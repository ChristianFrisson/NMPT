<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nick&#39;s Machine Perception Toolbox: GentleBoostClassifier2 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<h1>GentleBoostClassifier2 Class Reference<br/>
<small>
[<a class="el" href="group___m_p_group.html">Machine Perception Primitives</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="GentleBoostClassifier2" -->
<p><code> <b> Machine Perception Primitive: </b> </code> An implementation of a GentleBoost classifier for image patch classification.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;GentleBoostClassifier2.h&gt;</code></p>
<!-- startSectionHeader --><div class="dynheader">
Inheritance diagram for GentleBoostClassifier2:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="class_gentle_boost_classifier2__inherit__graph.png" border="0" usemap="#_gentle_boost_classifier2_inherit__map" alt="Inheritance graph"/></div>
<map name="_gentle_boost_classifier2_inherit__map" id="_gentle_boost_classifier2_inherit__map">
<area shape="rect" id="node3" href="class_gentle_boost_cascaded_classifier2.html" title=" &#160;Machine Perception Primitive: &#160;&#160;An implementation of a GentleBoost cascaded classifier for full ima..." alt="" coords="5,83,235,112"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>
<!-- startSectionHeader --><div class="dynheader">
Collaboration diagram for GentleBoostClassifier2:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="class_gentle_boost_classifier2__coll__graph.png" border="0" usemap="#_gentle_boost_classifier2_coll__map" alt="Collaboration graph"/></div>
<map name="_gentle_boost_classifier2_coll__map" id="_gentle_boost_classifier2_coll__map">
<area shape="rect" id="node2" href="class_patch_list2.html" title="Auxilliary Tool: A class that does the necessary book keeping for filtering an image quickly at many ..." alt="" coords="34,5,122,35"/><area shape="rect" id="node4" href="class_fast_patch_list2.html" title="Auxilliary Tool: A class that does the necessary book keeping for filtering an image quickly at many ..." alt="" coords="21,88,135,117"/><area shape="rect" id="node7" href="class_patch_dataset2.html" title="Auxilliary Tool: A tool for managing the data used in training GentleBoost classifiers." alt="" coords="125,205,242,235"/><area shape="rect" id="node11" href="class_detection_evaluator2.html" title="Auxilliary Tool: A tool for evaluating the performance of a whole&#45;image&#45;object&#45;detector, such as a GentleBoostCascadedClassifier, for performance on an ImageDataSet." alt="" coords="226,88,378,117"/><area shape="rect" id="node13" href="class_image_data_set2.html" title="Auxilliary Tool: A data structure for maintaining a list of image files and image labels to facilitat..." alt="" coords="402,88,525,117"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>

<p><a href="class_gentle_boost_classifier2-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e3adaf140f4b20e4dae308cd3f9056c"></a><!-- doxytag: member="GentleBoostClassifier2::GentleBoostClassifier2" ref="a0e3adaf140f4b20e4dae308cd3f9056c" args="()" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a0e3adaf140f4b20e4dae308cd3f9056c">GentleBoostClassifier2</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a678c93929afdc7af64c6cba24c4a81fd"></a><!-- doxytag: member="GentleBoostClassifier2::GentleBoostClassifier2" ref="a678c93929afdc7af64c6cba24c4a81fd" args="(const GentleBoostClassifier2 &amp;copy)" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a678c93929afdc7af64c6cba24c4a81fd">GentleBoostClassifier2</a> (const <a class="el" href="class_gentle_boost_classifier2.html">GentleBoostClassifier2</a> &amp;copy)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy Constructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1a31f1832d4b01745668475fcc843182"></a><!-- doxytag: member="GentleBoostClassifier2::operator=" ref="a1a31f1832d4b01745668475fcc843182" args="(const GentleBoostClassifier2 &amp;rhs)" -->
<a class="el" href="class_gentle_boost_classifier2.html">GentleBoostClassifier2</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a1a31f1832d4b01745668475fcc843182">operator=</a> (const <a class="el" href="class_gentle_boost_classifier2.html">GentleBoostClassifier2</a> &amp;rhs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment operator. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace33c5eb4bb6385c44a334ce774a3cf5"></a><!-- doxytag: member="GentleBoostClassifier2::~GentleBoostClassifier2" ref="ace33c5eb4bb6385c44a334ce774a3cf5" args="()" -->
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#ace33c5eb4bb6385c44a334ce774a3cf5">~GentleBoostClassifier2</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a53d01d341a5a31f53a2daca785d67106">getProbabilityMap</a> (<a class="el" href="class_patch_list2.html">PatchList2</a> *patches, cv::Mat &amp;dest) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate every pixel in an image for its probability that an object is located there.  <a href="#a53d01d341a5a31f53a2daca785d67106"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#abf8cc7ef2f3382d28ffa72790c0bb5f1">searchPatches</a> (const std::vector&lt; <a class="el" href="class_image_patch2.html">ImagePatch2</a> &gt; &amp;patches, const cv::Mat &amp;labels, cv::Mat &amp;featureSum, cv::Mat &amp;posterior, cv::Mat &amp;predictions, std::vector&lt; cv::Mat &gt; &amp;featureOutputs, double &amp;perf, cv::Mat &amp;weights, cv::Mat &amp;survived) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the GentleBoostClasssifier to a classify collection of image patches.  <a href="#abf8cc7ef2f3382d28ffa72790c0bb5f1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a898033a11249c3e9e02d8b62eafde6f1">setTrainingSet</a> (const std::vector&lt; <a class="el" href="class_image_patch2.html">ImagePatch2</a> &gt; &amp;trainingPatches, const cv::Mat &amp;trainingLabels)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set <a class="el" href="class_image_patch.html" title="Auxilliary Tool: A data structure that represents an image in an efficient memory layout...">ImagePatch</a> data and labels used for training the classifier.  <a href="#a898033a11249c3e9e02d8b62eafde6f1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#ac8ddcb77e8c138c71a568d1ddd7d5f5c">setTestingSet</a> (const std::vector&lt; <a class="el" href="class_image_patch2.html">ImagePatch2</a> &gt; &amp;testingPatches, const cv::Mat &amp;testingLabels)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set <a class="el" href="class_image_patch.html" title="Auxilliary Tool: A data structure that represents an image in an efficient memory layout...">ImagePatch</a> data and labels used for evaluating the classifier.  <a href="#ac8ddcb77e8c138c71a568d1ddd7d5f5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="struct_performance_metrics.html">PerformanceMetrics</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#ab5c0edde601b2f240b827a88c2e3f8d6">trainOneRound</a> (int patience=1, int boostRounds=1)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Train boosted classifier for one round by searching for one good feature, and adding it.  <a href="#ab5c0edde601b2f240b827a88c2e3f8d6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_feature2.html">Feature2</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a0a1b213f660480a90077f47e7c16b10b">getGoodFeature</a> (int patience=1, const std::string &amp;featureType=&quot;HaarFeature&quot;) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for a feature that would improve classifier performance.  <a href="#a0a1b213f660480a90077f47e7c16b10b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a61437af461e585fc680e37f0d0dca4ab">addFeature</a> (const <a class="el" href="class_feature2.html">Feature2</a> *nextFeature)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a feature to the classifier.  <a href="#a61437af461e585fc680e37f0d0dca4ab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#ac9eab6d555ffdf972e11703351b0a856">addFeatureBoosted</a> (const <a class="el" href="class_feature2.html">Feature2</a> *nextFeature, int boostRounds=1)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a feature to the classifier by applying multiple rounds of boosting.  <a href="#ac9eab6d555ffdf972e11703351b0a856"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a92057744eb5d12e266e8d11b92d2a6c0">getPerformanceMeasures</a> (const <a class="el" href="class_feature2.html">Feature2</a> *candidate, <a class="el" href="struct_performance_metrics.html">PerformanceMetrics</a> &amp;perf) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute perfomance measures for this classifier, depending on the Feature* passed in. This is primarily used for finding the best feature to add to the classifier, using <a class="el" href="class_gentle_boost_classifier2.html#a61437af461e585fc680e37f0d0dca4ab" title="Add a feature to the classifier.">addFeature()</a>.  <a href="#a92057744eb5d12e266e8d11b92d2a6c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aebb055e014cc5e0c4a9199c16620ca8c"></a><!-- doxytag: member="GentleBoostClassifier2::getNumTrainingPatches" ref="aebb055e014cc5e0c4a9199c16620ca8c" args="() const " -->
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#aebb055e014cc5e0c4a9199c16620ca8c">getNumTrainingPatches</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of negative patches currently being used to train the classifier. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0ad74213e4bccf100c7513b1bbd9835"></a><!-- doxytag: member="GentleBoostClassifier2::getNumTestingPatches" ref="ad0ad74213e4bccf100c7513b1bbd9835" args="() const " -->
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#ad0ad74213e4bccf100c7513b1bbd9835">getNumTestingPatches</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of positive patches currently being used to train the classifier. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a1901e053750f539d96183ad8ad9ba96a">getImageHeaderForTrainingPatch</a> (cv::Mat &amp;dst, int patchNum) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an IplImage for visualizing the negative patches in the classifier - This must be released using cvReleaseImageHeader, and not cvReleaseImage, or you will destroy the data used for training.  <a href="#a1901e053750f539d96183ad8ad9ba96a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#af5394d48c2fb3e850a9d4d9155146f05">getImageHeaderForTestingPatch</a> (cv::Mat &amp;dst, int patchNum) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an IplImage for visualizing the positive patches in the classifier - This must be released using cvReleaseImageHeader, and not cvReleaseImage, or you will destroy the data used for training.  <a href="#af5394d48c2fb3e850a9d4d9155146f05"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#aa0461920a1850dd6bc82ef042d9355e5">getNumFeaturesUsed</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">How many of its total features is the classifier currently using? To improve speed or avoid generalization errors, it may be useful to only use the first few features of the classifier.  <a href="#aa0461920a1850dd6bc82ef042d9355e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a05c78a9120de9792f9265c3c1b11a04a">getNumFeaturesTotal</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">How many total available, trained features does the classifier have?  <a href="#a05c78a9120de9792f9265c3c1b11a04a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#ab711b3b0bf120a1abf35ebf72ae006aa">setNumFeaturesUsed</a> (int num)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of trained and available features to use. To improve speed or avoid generalization errors, it may be useful to only use the first few features of the classifier.  <a href="#ab711b3b0bf120a1abf35ebf72ae006aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_feature_regressor2.html">FeatureRegressor2</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a07b5248797bf9777c7dc4a08725e8a7c">getFeatureAndTuningCurveNumber</a> (int num) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Examine the features used by this <a class="el" href="class_gentle_boost_classifier2.html" title="  Machine Perception Primitive:   An implementation of a GentleBoost classifier for image patch class...">GentleBoostClassifier2</a>.  <a href="#a07b5248797bf9777c7dc4a08725e8a7c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cv::Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a3b136a011a084eb3a2b546ae464f2b8e">getBasePatchSize</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of patches used for training. All features added must have a size equal to <a class="el" href="class_gentle_boost_classifier2.html#a3b136a011a084eb3a2b546ae464f2b8e" title="Size of patches used for training. All features added must have a size equal to getBasePatchSize().">getBasePatchSize()</a>.  <a href="#a3b136a011a084eb3a2b546ae464f2b8e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a887bf2905cbfe01228e73eb078b0e229"></a><!-- doxytag: member="GentleBoostClassifier2::setTrainingFeatureType" ref="a887bf2905cbfe01228e73eb078b0e229" args="(const std::string &amp;featureType)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a887bf2905cbfe01228e73eb078b0e229">setTrainingFeatureType</a> (const std::string &amp;featureType)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the type of feature added by "train". <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a7b4ca6ff8bed27a25f3ca4405e64e965">searchImage</a> (const cv::Mat &amp;gray_image, std::vector&lt; <a class="el" href="struct_search_result.html">SearchResult</a> &gt; &amp;keptPatches, int NMSRadius=0, double thresh=-INFINITY)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Search through and image for objects that this classifier was trained to detect. Results are passed back via the <a class="el" href="struct_search_result.html" title="Auxilliary Tool: A data structure that keeps track of where objects were detected in the image...">SearchResult</a> vector keptPatches.  <a href="#a7b4ca6ff8bed27a25f3ca4405e64e965"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a75f7131e914cc8a0d8df21c64a42d6c4">setCurrentImage</a> (const cv::Mat &amp;gray_image)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the current image to search, without actually searching. This allows you to search each scale (size) separately and manually, using <a class="el" href="class_gentle_boost_classifier2.html#ae09bf17084bbc9a406d93e29bf1d300d" title="Search through and image for objects at a single scale (size).">searchCurrentImageAtScale()</a>.  <a href="#a75f7131e914cc8a0d8df21c64a42d6c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#ae09bf17084bbc9a406d93e29bf1d300d">searchCurrentImageAtScale</a> (std::vector&lt; <a class="el" href="struct_search_result.html">SearchResult</a> &gt; &amp;keptPatches, int scale, int NMSRadius=0, double thresh=-INFINITY)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Search through and image for objects at a single scale (size).  <a href="#ae09bf17084bbc9a406d93e29bf1d300d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a8397971941863d8155c309c57f118409">getNumScales</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the number of scales available for searching for objects. See <a class="el" href="class_patch_list.html" title="Auxilliary Tool: A class that does the necessary book keeping for filtering an image quickly at many ...">PatchList</a> for further discussion.  <a href="#a8397971941863d8155c309c57f118409"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cv::Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#ad4eab9f63410608e8a445b065b516016">getSizeOfScale</a> (int scale) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the size of object searched for at a given scale. See <a class="el" href="class_patch_list.html" title="Auxilliary Tool: A class that does the necessary book keeping for filtering an image quickly at many ...">PatchList</a> for further discussion.  <a href="#ad4eab9f63410608e8a445b065b516016"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a7e11ece07d170f2995f271387276b4b2">sharePatchListWithClassifier</a> (const <a class="el" href="class_gentle_boost_classifier2.html">GentleBoostClassifier2</a> &amp;otherClassifier)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Share the patch list of another <a class="el" href="class_gentle_boost_cascaded_classifier.html" title="  Machine Perception Primitive:   An implementation of a GentleBoost cascaded classifier for full ima...">GentleBoostCascadedClassifier</a>, to increase efficiency of multiple classifiers processing the same image.  <a href="#a7e11ece07d170f2995f271387276b4b2"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af4611c205f43e717aa6cd344956c8841"></a><!-- doxytag: member="GentleBoostClassifier2::featureCost" ref="af4611c205f43e717aa6cd344956c8841" args="(const PerformanceMetrics &amp;a)" -->
static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#af4611c205f43e717aa6cd344956c8841">featureCost</a> (const <a class="el" href="struct_performance_metrics.html">PerformanceMetrics</a> &amp;a)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cost function used to compare features: By default, only uses chisq error info. <br/></td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ac17df34d97317cf81b598500e55147"></a><!-- doxytag: member="GentleBoostClassifier2::operator&lt;&lt;" ref="a5ac17df34d97317cf81b598500e55147" args="(cv::FileStorage &amp;fs, const GentleBoostClassifier2 &amp;booster)" -->
cv::FileStorage &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a5ac17df34d97317cf81b598500e55147">operator&lt;&lt;</a> (cv::FileStorage &amp;fs, const <a class="el" href="class_gentle_boost_classifier2.html">GentleBoostClassifier2</a> &amp;booster)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to a file. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a09179fd861011befad3dc9407b7358cc"></a><!-- doxytag: member="GentleBoostClassifier2::operator&gt;&gt;" ref="a09179fd861011befad3dc9407b7358cc" args="(const cv::FileNode &amp;fs, GentleBoostClassifier2 &amp;booster)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gentle_boost_classifier2.html#a09179fd861011befad3dc9407b7358cc">operator&gt;&gt;</a> (const cv::FileNode &amp;fs, <a class="el" href="class_gentle_boost_classifier2.html">GentleBoostClassifier2</a> &amp;booster)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from a file. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><code> <b> Machine Perception Primitive: </b> </code> An implementation of a GentleBoost classifier for image patch classification. </p>
<p>The GentleBoost approach is described in Fasel's "Learning Real-Time Object 
 Detectors: Probabilistic Generative Approaches", 2006 (see <a class="el" href="bib_page.html#bib_sec">Related Publications</a>).</p>
<p><a class="el" href="class_gentle_boost_classifier2.html" title="  Machine Perception Primitive:   An implementation of a GentleBoost classifier for image patch class...">GentleBoostClassifier2</a> is only suitable for whole patch classification. It is not meant to be used to search for objects in scenes. For that application, see <a class="el" href="class_gentle_boost_cascaded_classifier.html" title="  Machine Perception Primitive:   An implementation of a GentleBoost cascaded classifier for full ima...">GentleBoostCascadedClassifier</a>.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Nicholas Butko </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2010 </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.4 </dd></dl>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a61437af461e585fc680e37f0d0dca4ab"></a><!-- doxytag: member="GentleBoostClassifier2::addFeature" ref="a61437af461e585fc680e37f0d0dca4ab" args="(const Feature2 *nextFeature)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GentleBoostClassifier2::addFeature </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_feature2.html">Feature2</a> *&#160;</td>
          <td class="paramname"> <em>nextFeature</em>&#160;)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a feature to the classifier. </p>
<p>This will create a <a class="el" href="class_feature_regressor.html" title="Auxilliary Tool: A data structure that learns a non-linear tuning curve for mapping feature outputs t...">FeatureRegressor</a> and compute its tuning curve based on the current weighting of the training examples, and then reweight the training examples according to the GentleBoost algorithm.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">nextFeature</td><td>The feature to add. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac9eab6d555ffdf972e11703351b0a856"></a><!-- doxytag: member="GentleBoostClassifier2::addFeatureBoosted" ref="ac9eab6d555ffdf972e11703351b0a856" args="(const Feature2 *nextFeature, int boostRounds=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GentleBoostClassifier2::addFeatureBoosted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_feature2.html">Feature2</a> *&#160;</td>
          <td class="paramname"> <em>nextFeature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>boostRounds</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a feature to the classifier by applying multiple rounds of boosting. </p>
<p>This allows a single feature to have more discriminative power, with the danger of overfitting.</p>
<p>The classification result is equivalent to calling <a class="el" href="class_gentle_boost_classifier2.html#a61437af461e585fc680e37f0d0dca4ab" title="Add a feature to the classifier.">addFeature()</a> multiple times on the same feature, but leads to greater computational efficiency of the overall classifier.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">nextFeature</td><td>The feature to add. </td></tr>
    <tr><td class="paramname">boostRounds</td><td>Number of times to (effectively) call addFeature on this feature. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3b136a011a084eb3a2b546ae464f2b8e"></a><!-- doxytag: member="GentleBoostClassifier2::getBasePatchSize" ref="a3b136a011a084eb3a2b546ae464f2b8e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Size GentleBoostClassifier2::getBasePatchSize </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Size of patches used for training. All features added must have a size equal to <a class="el" href="class_gentle_boost_classifier2.html#a3b136a011a084eb3a2b546ae464f2b8e" title="Size of patches used for training. All features added must have a size equal to getBasePatchSize().">getBasePatchSize()</a>. </p>
<p><a class="el" href="class_gentle_boost_classifier2.html#a3b136a011a084eb3a2b546ae464f2b8e" title="Size of patches used for training. All features added must have a size equal to getBasePatchSize().">getBasePatchSize()</a> is set implicitly by the first feature added.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Size of the features used by this this classifier. </dd></dl>

</div>
</div>
<a class="anchor" id="a07b5248797bf9777c7dc4a08725e8a7c"></a><!-- doxytag: member="GentleBoostClassifier2::getFeatureAndTuningCurveNumber" ref="a07b5248797bf9777c7dc4a08725e8a7c" args="(int num) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_feature_regressor2.html">FeatureRegressor2</a> GentleBoostClassifier2::getFeatureAndTuningCurveNumber </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>num</em>&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Examine the features used by this <a class="el" href="class_gentle_boost_classifier2.html" title="  Machine Perception Primitive:   An implementation of a GentleBoost classifier for image patch class...">GentleBoostClassifier2</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>Index of the feature to query, numbered 0 to <a class="el" href="class_gentle_boost_classifier2.html#a05c78a9120de9792f9265c3c1b11a04a" title="How many total available, trained features does the classifier have?">getNumFeaturesTotal()</a>-1.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A <a class="el" href="class_feature_regressor.html" title="Auxilliary Tool: A data structure that learns a non-linear tuning curve for mapping feature outputs t...">FeatureRegressor</a>, which has the tuning curve as well as the feature. </dd></dl>

</div>
</div>
<a class="anchor" id="a0a1b213f660480a90077f47e7c16b10b"></a><!-- doxytag: member="GentleBoostClassifier2::getGoodFeature" ref="a0a1b213f660480a90077f47e7c16b10b" args="(int patience=1, const std::string &amp;featureType=&quot;HaarFeature&quot;) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_feature2.html">Feature2</a>* GentleBoostClassifier2::getGoodFeature </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>patience</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"> <em>featureType</em> = <code>&quot;HaarFeature&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Look for a feature that would improve classifier performance. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">patience</td><td>How long do you want to wait to find a good feature?</td></tr>
    <tr><td class="paramname">featureType</td><td>Type of feature to look for. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af5394d48c2fb3e850a9d4d9155146f05"></a><!-- doxytag: member="GentleBoostClassifier2::getImageHeaderForTestingPatch" ref="af5394d48c2fb3e850a9d4d9155146f05" args="(cv::Mat &amp;dst, int patchNum) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GentleBoostClassifier2::getImageHeaderForTestingPatch </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>patchNum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get an IplImage for visualizing the positive patches in the classifier - This must be released using cvReleaseImageHeader, and not cvReleaseImage, or you will destroy the data used for training. </p>
<p>This is useful for, for example, seeing what positive examples are currently confusing the classifier.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">patchNum</td><td>Must be between 0 and getNumPosPatches()</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An IplImage pointing to the actual training data. Memory must be managed by calling cvReleaseImageHeader, rather than cvReleaseImage(). </dd></dl>

</div>
</div>
<a class="anchor" id="a1901e053750f539d96183ad8ad9ba96a"></a><!-- doxytag: member="GentleBoostClassifier2::getImageHeaderForTrainingPatch" ref="a1901e053750f539d96183ad8ad9ba96a" args="(cv::Mat &amp;dst, int patchNum) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GentleBoostClassifier2::getImageHeaderForTrainingPatch </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>patchNum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get an IplImage for visualizing the negative patches in the classifier - This must be released using cvReleaseImageHeader, and not cvReleaseImage, or you will destroy the data used for training. </p>
<p>This is useful for, for example, seeing what negative examples are currently confusing the classifier.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">patchNum</td><td>Must be between 0 and getNumNegPatches()</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An IplImage pointing to the actual training data. Memory must be managed by calling cvReleaseImageHeader, rather than cvReleaseImage(). </dd></dl>

</div>
</div>
<a class="anchor" id="a05c78a9120de9792f9265c3c1b11a04a"></a><!-- doxytag: member="GentleBoostClassifier2::getNumFeaturesTotal" ref="a05c78a9120de9792f9265c3c1b11a04a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GentleBoostClassifier2::getNumFeaturesTotal </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>How many total available, trained features does the classifier have? </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of features trained and available for use. </dd></dl>

</div>
</div>
<a class="anchor" id="aa0461920a1850dd6bc82ef042d9355e5"></a><!-- doxytag: member="GentleBoostClassifier2::getNumFeaturesUsed" ref="aa0461920a1850dd6bc82ef042d9355e5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GentleBoostClassifier2::getNumFeaturesUsed </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>How many of its total features is the classifier currently using? To improve speed or avoid generalization errors, it may be useful to only use the first few features of the classifier. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of features currently being used. </dd></dl>

</div>
</div>
<a class="anchor" id="a8397971941863d8155c309c57f118409"></a><!-- doxytag: member="GentleBoostClassifier2::getNumScales" ref="a8397971941863d8155c309c57f118409" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GentleBoostClassifier2::getNumScales </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Query the number of scales available for searching for objects. See <a class="el" href="class_patch_list.html" title="Auxilliary Tool: A class that does the necessary book keeping for filtering an image quickly at many ...">PatchList</a> for further discussion. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of scales available for searching objects. </dd></dl>

</div>
</div>
<a class="anchor" id="a92057744eb5d12e266e8d11b92d2a6c0"></a><!-- doxytag: member="GentleBoostClassifier2::getPerformanceMeasures" ref="a92057744eb5d12e266e8d11b92d2a6c0" args="(const Feature2 *candidate, PerformanceMetrics &amp;perf) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GentleBoostClassifier2::getPerformanceMeasures </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_feature2.html">Feature2</a> *&#160;</td>
          <td class="paramname"> <em>candidate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_performance_metrics.html">PerformanceMetrics</a> &amp;&#160;</td>
          <td class="paramname"> <em>perf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute perfomance measures for this classifier, depending on the Feature* passed in. This is primarily used for finding the best feature to add to the classifier, using <a class="el" href="class_gentle_boost_classifier2.html#a61437af461e585fc680e37f0d0dca4ab" title="Add a feature to the classifier.">addFeature()</a>. </p>
<p>getPerformanceMeasures has three modes depending on the candidate feature: </p>
<ul>
<li>If the feature is NULL, calculates the current chi-squared error </li>
<li>If the feature is currently in the classifier, calculates the error if we remove the feature </li>
<li>Otherwise, calculates the error if we were to add this feature.</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">candidate</td><td>Can be NULL, one of the features in the classifier, or a candidate feature to add to the classifier.</td></tr>
    <tr><td class="paramname">chiSq</td><td>The computed error measure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a53d01d341a5a31f53a2daca785d67106"></a><!-- doxytag: member="GentleBoostClassifier2::getProbabilityMap" ref="a53d01d341a5a31f53a2daca785d67106" args="(PatchList2 *patches, cv::Mat &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GentleBoostClassifier2::getProbabilityMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_patch_list2.html">PatchList2</a> *&#160;</td>
          <td class="paramname"> <em>patches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"> <em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Evaluate every pixel in an image for its probability that an object is located there. </p>
<p>Since <a class="el" href="class_gentle_boost_classifier2.html" title="  Machine Perception Primitive:   An implementation of a GentleBoost classifier for image patch class...">GentleBoostClassifier2</a> is not a cascade, this process is somewhat slow. Also, <a class="el" href="class_gentle_boost_classifier2.html" title="  Machine Perception Primitive:   An implementation of a GentleBoost classifier for image patch class...">GentleBoostClassifier2</a> has no notion of "rejection," so it cannot "find" patches containing the object. It can only give a patch-by-patch estimate of the likelihood that that patch is the object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">patches</td><td>A <a class="el" href="class_patch_list.html" title="Auxilliary Tool: A class that does the necessary book keeping for filtering an image quickly at many ...">PatchList</a> that has had setImage() called, and also resetListToScale(). Only the current search scale is evaluated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An image with size patches-&gt;getImageSizeAtScale(), containing probability estimates. Each pixel represents the probability that the image patch with its top-left pixel at that probability map location contains an object. </dd></dl>

</div>
</div>
<a class="anchor" id="ad4eab9f63410608e8a445b065b516016"></a><!-- doxytag: member="GentleBoostClassifier2::getSizeOfScale" ref="ad4eab9f63410608e8a445b065b516016" args="(int scale) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Size GentleBoostClassifier2::getSizeOfScale </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>scale</em>&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Query the size of object searched for at a given scale. See <a class="el" href="class_patch_list.html" title="Auxilliary Tool: A class that does the necessary book keeping for filtering an image quickly at many ...">PatchList</a> for further discussion. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">scale</td><td>Search scale.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Patch size (object size) searched at that scale. </dd></dl>

</div>
</div>
<a class="anchor" id="ae09bf17084bbc9a406d93e29bf1d300d"></a><!-- doxytag: member="GentleBoostClassifier2::searchCurrentImageAtScale" ref="ae09bf17084bbc9a406d93e29bf1d300d" args="(std::vector&lt; SearchResult &gt; &amp;keptPatches, int scale, int NMSRadius=0, double thresh=&#45;INFINITY)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GentleBoostClassifier2::searchCurrentImageAtScale </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="struct_search_result.html">SearchResult</a> &gt; &amp;&#160;</td>
          <td class="paramname"> <em>keptPatches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>NMSRadius</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"> <em>thresh</em> = <code>-INFINITY</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Search through and image for objects at a single scale (size). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">keptPatches</td><td>Results of the search are recorded in this vector. This is faster than returning a vector. </td></tr>
    <tr><td class="paramname">scale</td><td>Scale to search at. Must be between 0 and <a class="el" href="class_gentle_boost_classifier2.html#a8397971941863d8155c309c57f118409" title="Query the number of scales available for searching for objects. See PatchList for further discussion...">getNumScales()</a>-1. </td></tr>
    <tr><td class="paramname">NMSRadius</td><td>Suppress object detection results if there is a another <a class="el" href="struct_search_result.html" title="Auxilliary Tool: A data structure that keeps track of where objects were detected in the image...">SearchResult</a> with higher value nearby (within radius NMSRadius pixels). </td></tr>
    <tr><td class="paramname">thresh</td><td>Suppress object detection results with a value lower than thresh. Using -INFINITY returns all results. Using thresh=0 returns only <a class="el" href="struct_search_result.html" title="Auxilliary Tool: A data structure that keeps track of where objects were detected in the image...">SearchResult</a> records that the cascade has at least 50% confidence in. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7b4ca6ff8bed27a25f3ca4405e64e965"></a><!-- doxytag: member="GentleBoostClassifier2::searchImage" ref="a7b4ca6ff8bed27a25f3ca4405e64e965" args="(const cv::Mat &amp;gray_image, std::vector&lt; SearchResult &gt; &amp;keptPatches, int NMSRadius=0, double thresh=&#45;INFINITY)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GentleBoostClassifier2::searchImage </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"> <em>gray_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="struct_search_result.html">SearchResult</a> &gt; &amp;&#160;</td>
          <td class="paramname"> <em>keptPatches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>NMSRadius</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"> <em>thresh</em> = <code>-INFINITY</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Search through and image for objects that this classifier was trained to detect. Results are passed back via the <a class="el" href="struct_search_result.html" title="Auxilliary Tool: A data structure that keeps track of where objects were detected in the image...">SearchResult</a> vector keptPatches. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">gray_image</td><td>Image or Frame to search. Must be single-channel, with depth IPL_DEPTH_8U. </td></tr>
    <tr><td class="paramname">keptPatches</td><td>Results of the search are recorded in this vector. This is faster than returning a vector. </td></tr>
    <tr><td class="paramname">NMSRadius</td><td>Suppress object detection results if there is a another <a class="el" href="struct_search_result.html" title="Auxilliary Tool: A data structure that keeps track of where objects were detected in the image...">SearchResult</a> with higher value nearby (within radius NMSRadius pixels). </td></tr>
    <tr><td class="paramname">thresh</td><td>Suppress object detection results with a value lower than thresh. Using -INFINITY returns all results. Using thresh=0 returns only <a class="el" href="struct_search_result.html" title="Auxilliary Tool: A data structure that keeps track of where objects were detected in the image...">SearchResult</a> records that the cascade has at least 50% confidence in. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abf8cc7ef2f3382d28ffa72790c0bb5f1"></a><!-- doxytag: member="GentleBoostClassifier2::searchPatches" ref="abf8cc7ef2f3382d28ffa72790c0bb5f1" args="(const std::vector&lt; ImagePatch2 &gt; &amp;patches, const cv::Mat &amp;labels, cv::Mat &amp;featureSum, cv::Mat &amp;posterior, cv::Mat &amp;predictions, std::vector&lt; cv::Mat &gt; &amp;featureOutputs, double &amp;perf, cv::Mat &amp;weights, cv::Mat &amp;survived) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void GentleBoostClassifier2::searchPatches </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_image_patch2.html">ImagePatch2</a> &gt; &amp;&#160;</td>
          <td class="paramname"> <em>patches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"> <em>labels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"> <em>featureSum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"> <em>posterior</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"> <em>predictions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Mat &gt; &amp;&#160;</td>
          <td class="paramname"> <em>featureOutputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"> <em>perf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"> <em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"> <em>survived</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Apply the GentleBoostClasssifier to a classify collection of image patches. </p>
<p>This classification requires a lot of scratch memory, which you can provide. The behavior of this function depends on which provided pointers are NULL. For example, perf and weights are only computed if labels is not NULL, whereas featureSum, posterior, and predictions are always computed. If any matrices that are required are NULL or incorrectly sized, they will be (re)allocated, and the caller of the function is responsible for managing that memory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">patches</td><td>A list of patches to classify. </td></tr>
    <tr><td class="paramname">labels</td><td>Optional labels for the patches, to evaluate classifier performance. </td></tr>
    <tr><td class="paramname">featureSum</td><td>The accumulated feature output that is used to predict the label of the patch. </td></tr>
    <tr><td class="paramname">posterior</td><td>The probability estimate that the patch was generated by the trained class. </td></tr>
    <tr><td class="paramname">predictions</td><td>Binary (+1/-1) classification labels applied by the classifier. </td></tr>
    <tr><td class="paramname">featureOutputs</td><td>The output of each individual <a class="el" href="class_feature_regressor.html" title="Auxilliary Tool: A data structure that learns a non-linear tuning curve for mapping feature outputs t...">FeatureRegressor</a> applied to each patch. </td></tr>
    <tr><td class="paramname">perf</td><td>Chi-Squared error in predicting labels (only set if labels are provided). </td></tr>
    <tr><td class="paramname">weights</td><td>Weights based on boosting that can be used for training the next feature. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a75f7131e914cc8a0d8df21c64a42d6c4"></a><!-- doxytag: member="GentleBoostClassifier2::setCurrentImage" ref="a75f7131e914cc8a0d8df21c64a42d6c4" args="(const cv::Mat &amp;gray_image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GentleBoostClassifier2::setCurrentImage </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"> <em>gray_image</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the current image to search, without actually searching. This allows you to search each scale (size) separately and manually, using <a class="el" href="class_gentle_boost_classifier2.html#ae09bf17084bbc9a406d93e29bf1d300d" title="Search through and image for objects at a single scale (size).">searchCurrentImageAtScale()</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">gray_image</td><td>Image or Frame to search. Must be single-channel, with depth IPL_DEPTH_8U. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab711b3b0bf120a1abf35ebf72ae006aa"></a><!-- doxytag: member="GentleBoostClassifier2::setNumFeaturesUsed" ref="ab711b3b0bf120a1abf35ebf72ae006aa" args="(int num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GentleBoostClassifier2::setNumFeaturesUsed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>num</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Number of trained and available features to use. To improve speed or avoid generalization errors, it may be useful to only use the first few features of the classifier. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>Number of features to use. Should be less than or equal to <a class="el" href="class_gentle_boost_classifier2.html#a05c78a9120de9792f9265c3c1b11a04a" title="How many total available, trained features does the classifier have?">getNumFeaturesTotal()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac8ddcb77e8c138c71a568d1ddd7d5f5c"></a><!-- doxytag: member="GentleBoostClassifier2::setTestingSet" ref="ac8ddcb77e8c138c71a568d1ddd7d5f5c" args="(const std::vector&lt; ImagePatch2 &gt; &amp;testingPatches, const cv::Mat &amp;testingLabels)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void GentleBoostClassifier2::setTestingSet </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_image_patch2.html">ImagePatch2</a> &gt; &amp;&#160;</td>
          <td class="paramname"> <em>testingPatches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"> <em>testingLabels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set <a class="el" href="class_image_patch.html" title="Auxilliary Tool: A data structure that represents an image in an efficient memory layout...">ImagePatch</a> data and labels used for evaluating the classifier. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">testingPatches</td><td>A collection of positive and negative examples that the classifier's discrimination will be evaluated on.</td></tr>
    <tr><td class="paramname">testingLabels</td><td>Binary (+1/-1) indicating the label of each patch. This should be a matrix of type CV_64FC1 with size numPatches x 1. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a898033a11249c3e9e02d8b62eafde6f1"></a><!-- doxytag: member="GentleBoostClassifier2::setTrainingSet" ref="a898033a11249c3e9e02d8b62eafde6f1" args="(const std::vector&lt; ImagePatch2 &gt; &amp;trainingPatches, const cv::Mat &amp;trainingLabels)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void GentleBoostClassifier2::setTrainingSet </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_image_patch2.html">ImagePatch2</a> &gt; &amp;&#160;</td>
          <td class="paramname"> <em>trainingPatches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"> <em>trainingLabels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set <a class="el" href="class_image_patch.html" title="Auxilliary Tool: A data structure that represents an image in an efficient memory layout...">ImagePatch</a> data and labels used for training the classifier. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">trainingPatches</td><td>A collection of positive and negative examples that the classifier should learn to discriminate.</td></tr>
    <tr><td class="paramname">trainingLabels</td><td>Binary (+1/-1) indicating the label of each patch. This should be a matrix of type CV_64FC1 with size numPatches x 1. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7e11ece07d170f2995f271387276b4b2"></a><!-- doxytag: member="GentleBoostClassifier2::sharePatchListWithClassifier" ref="a7e11ece07d170f2995f271387276b4b2" args="(const GentleBoostClassifier2 &amp;otherClassifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GentleBoostClassifier2::sharePatchListWithClassifier </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_gentle_boost_classifier2.html">GentleBoostClassifier2</a> &amp;&#160;</td>
          <td class="paramname"> <em>otherClassifier</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Share the patch list of another <a class="el" href="class_gentle_boost_cascaded_classifier.html" title="  Machine Perception Primitive:   An implementation of a GentleBoost cascaded classifier for full ima...">GentleBoostCascadedClassifier</a>, to increase efficiency of multiple classifiers processing the same image. </p>
<p>By sharing a patch list, calling "setImage" on one classifier will set it for all of them. Thus different classifiers can share processing on the same image data.</p>
<p>However, be careful with this. It cannot be undone (within the lifetime of a single object -- reloading the classifier from disk will undo it).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">otherClassifier</td><td>Classifier to share a <a class="el" href="class_patch_list.html" title="Auxilliary Tool: A class that does the necessary book keeping for filtering an image quickly at many ...">PatchList</a> with. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab5c0edde601b2f240b827a88c2e3f8d6"></a><!-- doxytag: member="GentleBoostClassifier2::trainOneRound" ref="ab5c0edde601b2f240b827a88c2e3f8d6" args="(int patience=1, int boostRounds=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_performance_metrics.html">PerformanceMetrics</a> GentleBoostClassifier2::trainOneRound </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>patience</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>boostRounds</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Train boosted classifier for one round by searching for one good feature, and adding it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">patience</td><td>How long do you want to wait to find a good feature?</td></tr>
    <tr><td class="paramname">boostRounds</td><td>Train for multiple rounds of boosting on one feature: makes the classifier more discriminative but more prone to overfit. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="class_gentle_boost_cascaded_classifier2.html#a751c445ee874c45e52a3471ecd47a1c8">GentleBoostCascadedClassifier2</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Users/nick/projects/NickThesis/Code/OpenCV/src/GentleBoostClassifier2.h</li>
<li>/Users/nick/projects/NickThesis/Code/OpenCV/src/GentleBoostClassifier2.cpp</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 9 2010 16:05:48 for Nick's Machine Perception Toolbox by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
