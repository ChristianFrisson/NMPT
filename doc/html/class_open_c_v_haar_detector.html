<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nick&#39;s Machine Perception Toolbox: OpenCVHaarDetector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<h1>OpenCVHaarDetector Class Reference<br/>
<small>
[<a class="el" href="group___aux_group.html">Auxilliary Tools</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="OpenCVHaarDetector" --><!-- doxytag: inherits="ObjectDetector" -->
<p><code>Auxilliary Tool:</code> A specific object detector that uses OpenCV's Haar Cascade Classifier to detect objects. The performance / behavior of the object detector is stored in an XML file, which is passed in in the constructor. The XML file provided in the data directory may be used for finding faces, or you can use OpenCV to train your own.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;OpenCVHaarDetector.h&gt;</code></p>
<!-- startSectionHeader --><div class="dynheader">
Inheritance diagram for OpenCVHaarDetector:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="class_open_c_v_haar_detector__inherit__graph.png" border="0" usemap="#_open_c_v_haar_detector_inherit__map" alt="Inheritance graph"/></div>
<map name="_open_c_v_haar_detector_inherit__map" id="_open_c_v_haar_detector_inherit__map">
<area shape="rect" id="node2" href="class_object_detector.html" title="Auxilliary Tool: A virtual class for providing the skeleton for specific object detectors." alt="" coords="27,5,144,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>
<!-- startSectionHeader --><div class="dynheader">
Collaboration diagram for OpenCVHaarDetector:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="class_open_c_v_haar_detector__coll__graph.png" border="0" usemap="#_open_c_v_haar_detector_coll__map" alt="Collaboration graph"/></div>
<map name="_open_c_v_haar_detector_coll__map" id="_open_c_v_haar_detector_coll__map">
<area shape="rect" id="node2" href="class_object_detector.html" title="Auxilliary Tool: A virtual class for providing the skeleton for specific object detectors." alt="" coords="27,5,144,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>

<p><a href="class_open_c_v_haar_detector-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_c_v_haar_detector.html#a326c98b03ffff885c351f6651a54553d">OpenCVHaarDetector</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Placeholder Constructor.  <a href="#a326c98b03ffff885c351f6651a54553d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_c_v_haar_detector.html#a5a7e0b6e0dc551430dc0615fec40ee9a">OpenCVHaarDetector</a> (const char *filename)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a5a7e0b6e0dc551430dc0615fec40ee9a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae20778345818c3ec8fb04d66537231ca"></a><!-- doxytag: member="OpenCVHaarDetector::OpenCVHaarDetector" ref="ae20778345818c3ec8fb04d66537231ca" args="(OpenCVHaarDetector *detectorToCopy)" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_c_v_haar_detector.html#ae20778345818c3ec8fb04d66537231ca">OpenCVHaarDetector</a> (<a class="el" href="class_open_c_v_haar_detector.html">OpenCVHaarDetector</a> *detectorToCopy)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deep Copy Constructor: Create a Haar detector that is identical to the one copied. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_c_v_haar_detector.html#a42addcb9c494971775f2c0c55007595f">~OpenCVHaarDetector</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Destructor.  <a href="#a42addcb9c494971775f2c0c55007595f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; cv::Rect &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_c_v_haar_detector.html#a28067be4df87ea2a9be886e7efa8c3c4">detectObjects</a> (IplImage *image)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual Method for overridden from parent class (<a class="el" href="class_object_detector.html" title="Auxilliary Tool: A virtual class for providing the skeleton for specific object detectors.">ObjectDetector</a>). Applies the cvHaarDetectObjects() method to the provided image patch.  <a href="#a28067be4df87ea2a9be886e7efa8c3c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_c_v_haar_detector.html#a56d375802e0ea43e53959be02c273271">setHaarCascadeScaleFactor</a> (double factor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the factor by which the image-patch-search-scale is increased. Should be greater than 1. By default, the scale factor is 1.1, meaning that faces are searched for at sizes that increase by 10%.  <a href="#a56d375802e0ea43e53959be02c273271"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_c_v_haar_detector.html#a508f27db74171b7b4456b1c91a4be4a5">setHaarCascadeMinSize</a> (int size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the minimum patch size at which the classifier searches for the object. By default, this is 0, meaning that the smallest size appropriate to XML file is used. In the case of the frontal face detector provided, this happens to be 20x20 pixels.  <a href="#a508f27db74171b7b4456b1c91a4be4a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_c_v_haar_detector.html#a3242a340d923af855aaddd841bafefb2">setDetectorSource</a> (std::string newFileName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the file used by the object detector for doing detecting. This is critical if a weights file is located at an absolute path that may have changed from training time.  <a href="#a3242a340d923af855aaddd841bafefb2"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeed2c628f7113ecfff9c8852cd5d35ba"></a><!-- doxytag: member="OpenCVHaarDetector::readFromStream" ref="aeed2c628f7113ecfff9c8852cd5d35ba" args="(std::istream &amp;in)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_c_v_haar_detector.html#aeed2c628f7113ecfff9c8852cd5d35ba">readFromStream</a> (std::istream &amp;in)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual Method for inheriting classes to override: An object detector should be able to read in its properties from a file, and reinitialize itself appropriately. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a341f270448512b4abe9fe794b5247324"></a><!-- doxytag: member="OpenCVHaarDetector::addToStream" ref="a341f270448512b4abe9fe794b5247324" args="(std::ostream &amp;out)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_c_v_haar_detector.html#a341f270448512b4abe9fe794b5247324">addToStream</a> (std::ostream &amp;out)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual Method for inheriting classes to override: An object detector should be able to serialize itself to be saved in a file. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><code>Auxilliary Tool:</code> A specific object detector that uses OpenCV's Haar Cascade Classifier to detect objects. The performance / behavior of the object detector is stored in an XML file, which is passed in in the constructor. The XML file provided in the data directory may be used for finding faces, or you can use OpenCV to train your own. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Nicholas Butko </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2010 </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.4 </dd></dl>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a326c98b03ffff885c351f6651a54553d"></a><!-- doxytag: member="OpenCVHaarDetector::OpenCVHaarDetector" ref="a326c98b03ffff885c351f6651a54553d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpenCVHaarDetector::OpenCVHaarDetector </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Placeholder Constructor. </p>
<p>Used to create a placeholder for an object detector, which can then be read from a file stream using the &gt;&gt; operator. Typical usage for this constructor is:</p>
<p><code> detector = new <a class="el" href="class_open_c_v_haar_detector.html#a326c98b03ffff885c351f6651a54553d" title="Placeholder Constructor.">OpenCVHaarDetector()</a>; <br/>
 in &gt;&gt; detector; </code> </p>

</div>
</div>
<a class="anchor" id="a5a7e0b6e0dc551430dc0615fec40ee9a"></a><!-- doxytag: member="OpenCVHaarDetector::OpenCVHaarDetector" ref="a5a7e0b6e0dc551430dc0615fec40ee9a" args="(const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpenCVHaarDetector::OpenCVHaarDetector </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>filename</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<p>Used to create an object detector out of a previously stored XML file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The name of the XML file that contains all of the features / weights / etc. needed by the Haar Cascaded Object Detector. The provided file, "data/haarcascade_frontalface_alt2.xml" is distributed with OpenCV. OpenCV can be used to train detectors of objects other than frontal faces. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a42addcb9c494971775f2c0c55007595f"></a><!-- doxytag: member="OpenCVHaarDetector::~OpenCVHaarDetector" ref="a42addcb9c494971775f2c0c55007595f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpenCVHaarDetector::~OpenCVHaarDetector </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default Destructor. </p>
<p>Deallocates all memory associated with the haar detector. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a28067be4df87ea2a9be886e7efa8c3c4"></a><!-- doxytag: member="OpenCVHaarDetector::detectObjects" ref="a28067be4df87ea2a9be886e7efa8c3c4" args="(IplImage *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; Rect &gt; OpenCVHaarDetector::detectObjects </td>
          <td>(</td>
          <td class="paramtype">IplImage *&#160;</td>
          <td class="paramname"> <em>image</em>&#160;)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Virtual Method for overridden from parent class (<a class="el" href="class_object_detector.html" title="Auxilliary Tool: A virtual class for providing the skeleton for specific object detectors.">ObjectDetector</a>). Applies the cvHaarDetectObjects() method to the provided image patch. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>The image to be searched for some target object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A CvSeq* array of CvRect, each specifying the location of the object detector's target. Each CvRect should specify the top-left pixel corner of an object's bounding box, and also the height and width of the bounding box. The Object's location is taken to be the center of this bounding box. </dd></dl>

<p>Implements <a class="el" href="class_object_detector.html#a7299beb04fe3050a18b43116a2d7d42c">ObjectDetector</a>.</p>

</div>
</div>
<a class="anchor" id="a3242a340d923af855aaddd841bafefb2"></a><!-- doxytag: member="OpenCVHaarDetector::setDetectorSource" ref="a3242a340d923af855aaddd841bafefb2" args="(std::string newFileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpenCVHaarDetector::setDetectorSource </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"> <em>newFileName</em>&#160;)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change the file used by the object detector for doing detecting. This is critical if a weights file is located at an absolute path that may have changed from training time. </p>
<p>When an <a class="el" href="class_object_detector.html" title="Auxilliary Tool: A virtual class for providing the skeleton for specific object detectors.">ObjectDetector</a> is loaded from disk, it will try to reload its weights file from the same source used in training. If this fails, a warning will be printed, and the detector's source will need to be set. </p>

<p>Implements <a class="el" href="class_object_detector.html#abfc0245f126b6b955f6199508992a957">ObjectDetector</a>.</p>

</div>
</div>
<a class="anchor" id="a508f27db74171b7b4456b1c91a4be4a5"></a><!-- doxytag: member="OpenCVHaarDetector::setHaarCascadeMinSize" ref="a508f27db74171b7b4456b1c91a4be4a5" args="(int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpenCVHaarDetector::setHaarCascadeMinSize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>size</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the minimum patch size at which the classifier searches for the object. By default, this is 0, meaning that the smallest size appropriate to XML file is used. In the case of the frontal face detector provided, this happens to be 20x20 pixels. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The width/height of the smallest patches to try to detect the object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a56d375802e0ea43e53959be02c273271"></a><!-- doxytag: member="OpenCVHaarDetector::setHaarCascadeScaleFactor" ref="a56d375802e0ea43e53959be02c273271" args="(double factor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpenCVHaarDetector::setHaarCascadeScaleFactor </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"> <em>factor</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the factor by which the image-patch-search-scale is increased. Should be greater than 1. By default, the scale factor is 1.1, meaning that faces are searched for at sizes that increase by 10%. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">factor</td><td>The size-granularity of object search. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Users/nick/projects/NickThesis/Code/OpenCV/src/OpenCVHaarDetector.h</li>
<li>/Users/nick/projects/NickThesis/Code/OpenCV/src/OpenCVHaarDetector.cpp</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 9 2010 16:05:49 for Nick's Machine Perception Toolbox by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
